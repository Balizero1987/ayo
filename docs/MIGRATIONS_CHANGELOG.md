# MIGRATIONS CHANGELOG

*Auto-generated by The Scribe on 2025-12-10 08:55:49*

> **Note:** This document is automatically updated. Do not edit manually.

---

## Summary

- **Total Migrations:** 28
- **Python Migrations:** 8
- **SQL Migrations:** 20

---

## Migration History

| # | Name | Type | Date | Purpose |
|---|------|------|------|---------|
| 001 | `migration_001` | Python | Unknown | Migration 001: Fix missing PostgreSQL tables |
| 001 | `001_fix_missing_tables` | SQL | Unknown | ================================================ |
| 001 | `001_golden_answers_schema` | SQL | Unknown | Golden Answers System - PostgreSQL Schema |
| 002 | `002_memory_system_schema` | SQL | Unknown | Memory System Tables for ZANTARA |
| 002 | `002_team_timesheet` | SQL | Unknown | Migration: Team Timesheet System |
| 003 | `003_work_sessions_schema` | SQL | Unknown | Migration 003: Team Work Sessions Tracking |
| 004 | `004_profile_photos_fix` | SQL | Unknown | Migration 004: Fix Profile Photos Schema |
| 005 | `005_oracle_knowledge_bases` | SQL | Unknown | Oracle Knowledge Bases Migration |
| 006 | `006_property_and_tax_tables` | SQL | Unknown | Property and Tax Data Tables |
| 007 | `migration_007` | Python | Unknown | Migration 007: CRM System Schema |
| 007 | `007_crm_system_schema` | SQL | Unknown | ================================================ |
| 008 | `008_v5_3_ultra_hybrid` | SQL | Unknown | ======================================== |
| 009 | `009_real_authentication_system` | SQL | Unknown | Migration: Real Authentication System (DEPRECATED) |
| 010 | `migration_010` | Python | Unknown | Migration 010: Fix team_members schema alignment |
| 010 | `010_fix_team_members_schema` | SQL | Unknown | ================================================ |
| 011 | `011_audit_trail_schema` | SQL | Unknown | ================================================ |
| 012 | `migration_012` | Python | Unknown | Migration 012: Fix Production Schema Issues |
| 012 | `012_fix_production_schema` | SQL | Unknown | ================================================ |
| 013 | `migration_013` | Python | Unknown | Migration 013: Agentic RAG Tables |
| 013 | `013_agentic_rag_tables` | SQL | Unknown | Migration 013: Agentic RAG Tables |
| 014 | `migration_014` | Python | Unknown | Migration 014: Knowledge Graph Tables |
| 014 | `014_knowledge_graph_tables` | SQL | Unknown | Migration 014: Knowledge Graph Tables |
| 015 | `migration_015` | Python | Unknown | Migration 015: Add Drive Columns |
| 015 | `015_add_drive_columns` | SQL | Unknown | Migration 015: Add Drive Columns |
| 016 | `migration_016` | Python | Unknown | Migration 016: Add Summary to Parent Documents |
| 016 | `016_add_summary_to_parent_docs` | SQL | Unknown | Migration 016: Add Summary to Parent Documents |
| 017 | `017_zantara_media_content` | SQL | Unknown | Migration 017: ZANTARA MEDIA Content Management System |
| ? | `migration_v5_3_final` | SQL | Unknown | ======================================== |

---

## Detailed Descriptions

### Migration 001: migration_001

- **Type:** Python
- **Date:** Unknown

**Description:**

Migration 001: Fix missing PostgreSQL tables
Creates cultural_knowledge and query_clusters tables, fixes memory_facts.id

---

### Migration 001: 001_fix_missing_tables

- **Type:** SQL
- **Date:** Unknown

**Description:**

================================================
Migration 001: Fix missing PostgreSQL tables
Created: 2025-10-19
Purpose: Create cultural_knowledge, query_clusters tables and fix memory_facts.id
Idempotency: YES
================================================

---

### Migration 001: 001_golden_answers_schema

- **Type:** SQL
- **Date:** Unknown

**Description:**

Golden Answers System - PostgreSQL Schema
Created: 2025-10-16
Purpose: Cache pre-generated answers for frequent queries
============================================
Table: golden_answers
============================================

---

### Migration 002: 002_memory_system_schema

- **Type:** SQL
- **Date:** Unknown

**Description:**

Memory System Tables for ZANTARA
Created: 2025-10-20
Purpose: Persistent user memory storage (facts, stats, preferences)
========================================
MEMORY FACTS TABLE
========================================
Stores individual facts about users/collaborators
Used for personalized context in conversations

---

### Migration 002: 002_team_timesheet

- **Type:** SQL
- **Date:** Unknown

**Description:**

Migration: Team Timesheet System
Purpose: Track team member work hours (clock-in/clock-out)
Timezone: Asia/Makassar (Bali Time, UTC+8)
Created: 2025-11-17
Main timesheet table

---

### Migration 003: 003_work_sessions_schema

- **Type:** SQL
- **Date:** Unknown

**Description:**

Migration 003: Team Work Sessions Tracking
Tracks team member work hours and sends reports to ZERO
Table: team_work_sessions

---

### Migration 004: 004_profile_photos_fix

- **Type:** SQL
- **Date:** Unknown

**Description:**

Migration 004: Fix Profile Photos Schema
Add missing profile photo columns to users table
Add profile_photo_url and profile_photo_updated_at to users table

---

### Migration 005: 005_oracle_knowledge_bases

- **Type:** SQL
- **Date:** Unknown

**Description:**

Oracle Knowledge Bases Migration
Created: 2025-10-21
Purpose: Migrate static JSON knowledge bases from Oracle System to PostgreSQL
========================================
VISA TYPES TABLE
========================================
Replaces visa-oracle-kb.json visaTypes section

---

### Migration 006: 006_property_and_tax_tables

- **Type:** SQL
- **Date:** Unknown

**Description:**

Property and Tax Data Tables
Created: 2025-10-21
Purpose: Store property listings, market data, and tax optimization data
========================================
PROPERTY LISTINGS TABLE
========================================
Stores scraped property listings from various sources

---

### Migration 007: migration_007

- **Type:** Python
- **Date:** Unknown

**Description:**

Migration 007: CRM System Schema
Creates tables for CRM system (team_members, clients, practices, interactions, etc.)

---

### Migration 007: 007_crm_system_schema

- **Type:** SQL
- **Date:** Unknown

**Description:**

================================================
ZANTARA CRM SYSTEM - Full Schema
Migration 007: Team-wide organizational memory
Created: 2025-10-21
================================================
Enable UUID extension for unique IDs

---

### Migration 008: 008_v5_3_ultra_hybrid

- **Type:** SQL
- **Date:** Unknown

**Description:**

========================================
ZANTARA v5.3 (Ultra Hybrid) - Final Production Migration
Database: PostgreSQL
Compatibility: PostgreSQL 13+
Author: Senior DevOps Engineer & Database Administrator
Idempotency: YES - Safe for multiple runs
========================================
Begin Transaction

---

### Migration 009: 009_real_authentication_system

- **Type:** SQL
- **Date:** Unknown

**Description:**

Migration: Real Authentication System (DEPRECATED)
Purpose: This migration was originally for 'users' table, but the codebase uses 'team_members'
Status: DEPRECATED - Do not use. Use migration 010_fix_team_members_schema.sql instead
Created: 2025-01-22
Updated: 2025-01-22 - Marked as deprecated
NOTE: This migration modifies the 'users' table, but the codebase uses 'team_members'
All authentication logic is now in migration 010_fix_team_members_schema.sql
This file is kept for reference only and should not be executed

---

### Migration 010: migration_010

- **Type:** Python
- **Date:** Unknown

**Description:**

Migration 010: Fix team_members schema alignment
Adds missing columns to align with Python User model

---

### Migration 010: 010_fix_team_members_schema

- **Type:** SQL
- **Date:** Unknown

**Description:**

================================================
Migration 010: Fix team_members schema alignment
Purpose: Add missing columns and align with Python User model
Created: 2025-01-22
================================================

---

### Migration 011: 011_audit_trail_schema

- **Type:** SQL
- **Date:** Unknown

**Description:**

================================================
Migration 011: Audit Trail System
Purpose: Create tables for authentication and system audit logs
Created: 2025-11-30
================================================

---

### Migration 012: migration_012

- **Type:** Python
- **Date:** Unknown

**Description:**

Migration 012: Fix Production Schema Issues
Adds missing conversation_id column to interactions table

---

### Migration 012: 012_fix_production_schema

- **Type:** SQL
- **Date:** Unknown

**Description:**

================================================
Migration 012: Fix Production Schema Issues
Created: 2025-11-30
Fixes: Missing conversation_id column in interactions table
================================================
First, check if the column already exists (idempotent migration)

---

### Migration 013: migration_013

- **Type:** Python
- **Date:** Unknown

**Description:**

Migration 013: Agentic RAG Tables
Creates tables for Parent-Child Retrieval and Golden Router

---

### Migration 013: 013_agentic_rag_tables

- **Type:** SQL
- **Date:** Unknown

**Description:**

Migration 013: Agentic RAG Tables
Creates tables for Parent-Child Retrieval and Golden Router
============================================
PARENT DOCUMENTS (BAB completi)
============================================

---

### Migration 014: migration_014

- **Type:** Python
- **Date:** Unknown

**Description:**

Migration 014: Knowledge Graph Tables
Creates tables for Knowledge Graph

---

### Migration 014: 014_knowledge_graph_tables

- **Type:** SQL
- **Date:** Unknown

**Description:**

Migration 014: Knowledge Graph Tables
Creates tables for Knowledge Graph (Entities and Relationships)

---

### Migration 015: migration_015

- **Type:** Python
- **Date:** Unknown

**Description:**

Migration 015: Add Drive Columns
Adds Google Drive metadata to parent_documents table

---

### Migration 015: 015_add_drive_columns

- **Type:** SQL
- **Date:** Unknown

**Description:**

Migration 015: Add Drive Columns
Adds Google Drive metadata to parent_documents

---

### Migration 016: migration_016

- **Type:** Python
- **Date:** Unknown

**Description:**

Migration 016: Add Summary to Parent Documents
Adds summary column to parent_documents table

---

### Migration 016: 016_add_summary_to_parent_docs

- **Type:** SQL
- **Date:** Unknown

**Description:**

Migration 016: Add Summary to Parent Documents
Adds a text column to store the AI-generated summary of the chapter/document

---

### Migration 017: 017_zantara_media_content

- **Type:** SQL
- **Date:** Unknown

**Description:**

Migration 017: ZANTARA MEDIA Content Management System
Provides persistent storage for content pipeline, editorial workflow, and distribution tracking
Replaces in-memory storage in zantara-media app
============================================================================
CONTENT MANAGEMENT
============================================================================
Content statuses: INTAKE → DRAFT → REVIEW → APPROVED → SCHEDULED → PUBLISHED → ARCHIVED

---

### Migration ?: migration_v5_3_final

- **Type:** SQL
- **Date:** Unknown

**Description:**

========================================
ZANTARA v5.3 (Ultra Hybrid) - Final Production Migration
Database: PostgreSQL
Compatibility: PostgreSQL 13+
Author: Senior DevOps Engineer & Database Administrator
Idempotency: YES - Safe for multiple runs
========================================
Begin Transaction

---

*Last updated: 2025-12-10 08:55:49*















